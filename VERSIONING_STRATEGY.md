# 버전 관리 가이드라인 (Versioning Strategy)

이 프로젝트는 앱의 안정적인 배포와 히스토리 추적을 위해 다음과 같은 버전 관리 규칙을 엄격히 준수합니다. 향후 모든 작업 및 배포 시 이 규칙을 따라야 합니다.

## 1. 유의적 버전 (Semantic Versioning)
버전 이름은 `X.Y.Z` 형식을 사용하며, `pubspec.yaml`의 `version` 필드 전반부(약속된 이름)에 해당합니다.

*   **Major (X)**: 기존 기능과 호환되지 않는 대규모 개편, 아키텍처 변경 시 올림 (예: 1.x.x → 2.0.0)
*   **Minor (Y)**: 새로운 기능 추가, 중요한 화면 개편 등 기능적 변경 시 올림 (예: 1.2.x → 1.3.0)
*   **Patch (Z)**: 버그 수정, 오타 수정, 미세한 UI 조정 등 작은 변경 시 올림 (예: 1.2.2 → 1.2.3)

## 2. 빌드 번호 (Build Number)
`pubspec.yaml`의 `version` 필드에서 `+` 기호 뒤에 오는 숫자입니다.

*   **증폭 규칙**: 내부 또는 외부 배포(Store 업로드, APK 공유 등)가 이루어질 때마다 **무조건 이전 값에서 +1** 처리합니다.
*   **중요성**: 동일한 빌드 번호는 구글 플레이 스토어 등 스토어 서버에서 거부될 수 있습니다.

## 3. 빌드 및 배포 자동화
이 프로젝트는 동일한 파일명으로 인한 혼동을 방지하기 위해 버전을 포함한 자동 이름 변경 스크립트를 사용합니다.

*   **실행 명령어**: `sh scripts/build_android.sh`
*   **동작**:
    1. `pubspec.yaml`의 버전 정보를 읽어 빌드 실행
    2. 빌드 결과물을 `releases/baduk_manager_vX.Y.Z_N.apk` 형태로 복사
    3. 배포에 필요한 SHA256 체크섬 자동 출력
*   **결과**: 빌드된 아카이브는 프로젝트 루트의 `releases/` 폴더에서 관리합니다.

---
**주의**: 
*   안드로이드나 iOS 등 각 플랫폼 폴더 내부의 설정 파일(build.gradle 등)을 직접 수정하지 마십시오. 반드시 `pubspec.yaml`을 통해 제어합니다.
*   배포 시에는 반드시 위 스크립트를 사용하여 버전별 관리본을 남겨야 합니다.
